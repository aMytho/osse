{
	frankenphp
	auto_https disable_redirects
	debug
}

# Serve the angular frontend
:80 {
	root * public/dist/browser/
	encode zstd gzip
	try_files {path} /index.html
	file_server
}

# The domain name of your server
:443 {
	root * public/dist/browser/
	encode zstd br gzip
	try_files {path} /index.html
	file_server
}

# Serve the laravel API
:9000 {
	# Set the webroot to the public/ directory
	root * public/
	# Enable compression
	encode zstd gzip
	# Execute PHP files from the public/ directory and serve assets
	php_server {
		try_files {path} index.php
	}
}

# Serve the laravel API (securely)
:9001 {
	# Set the webroot to the public/ directory
	root * public/
	# Enable compression
	encode zstd br gzip
	# Execute PHP files from the public/ directory and serve assets
	php_server {
		try_files {path} index.php
	}
}

192.168.1.104 {
	reverse_proxy localhost
}
